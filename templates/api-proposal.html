{% extends "inevent/base.html" %}

{% block content_inevent_page %}

<link type="text/css" rel="stylesheet" href="{{ STATIC_URL }}inevent/styles/jquery.tocify.css" />
<script src="{{ STATIC_URL }}inevent/scripts/jquery-ui-widget.min.js"></script>
<script src="{{ STATIC_URL }}inevent/scripts/jquery.tocify.min.js"></script>

<link rel="stylesheet" href="{{ STATIC_URL }}inevent/styles/prism.css">
<script src="{{ STATIC_URL }}inevent/scripts/prism.js"></script>

<div class="row-fluid">
	<div class="span9">

<h1>WP3 Backend API</h1>

<h2>Description</h2>

<p>This documents describes an API exposed by WP3 backend system that allows to archive and retrieve HyperEvents</p>

<h2>Notices</h2>

<p>Date format for each DTO:</p>

<table class="table">
	<tr>
		<th>DTO</th>
		<th>Attribute</th>
		<th>Type</th>
		<th>Example</th>
	</tr><tr>
		<td>HyperEvent</td>
		<td>creationDate</td>
		<td>milli timestamp</td>
		<td>1330380000000</td>
	</tr><tr>
		<td>HyperEvent</td>
		<td>duration</td>
		<td>integer seconds <span class="label label-warning">not confirmed</span></td>
		<td>300</td>
	</tr><tr>
		<td>Tag</td>
		<td>creationDate</td>
		<td></td>
		<td>0 <span class="label label-warning">not data</span></td>
	</tr><tr>
		<td>File</td>
		<td>startDate</td>
		<td>milli timestamp</td>
		<td>1383092271000</td>
	</tr><tr>
		<td>File</td>
		<td>endDate</td>
		<td>milli timestamp</td>
		<td>1383092363000</td>
	</tr><tr>
		<td>Filter</td>
		<td>startDate</td>
		<td>milli timestamp</td>
		<td>1398282433812 <span class="label label-warning">not verified</span></td>
	</tr><tr>
		<td>Filter</td>
		<td>endDate</td>
		<td>milli timestamp</td>
		<td>1398282433810 <span class="label label-warning">not verified</span></td>
	</tr><tr>
		<td>Segment</td>
		<td>startDate</td>
		<td>milli timestamp</td>
		<td>1398287417648 <span class="label label-warning">not verified</span></td>
	</tr><tr>
		<td>Segment</td>
		<td>endDate</td>
		<td>milli timestamp</td>
		<td>1398287421648 <span class="label label-warning">not verified</span></td>
	</tr><tr>
		<td>Word</td>
		<td>startTime</td>
		<td>float seconds <span class="label label-warning">not confirmed</span></td>
		<td>5.33 <span class="label label-warning">not verified</span></td>
	</tr><tr>
		<td>Word</td>
		<td>endTime</td>
		<td>float seconds <span class="label label-warning">not confirmed</span></td>
		<td>6.0 <span class="label label-warning">not verified</span></td>
	</tr>
</table>

<h2>DTO definitions</h2>

<h3 id="HyperEventDTO">HyperEvent</h3>

<p>Following table describes fields of HyperventEvent data object transfert:</p>

<table class="table">
	<tr>
		<th></th>
		<th>Type</th>
		<th>Value</th>
	</tr>

	<tr>
		<th>id</th>
		<td>long</td>
		<td>ID</td>
	</tr><tr>
		<th>parentId</th>
		<td>long</td>
		<td>Parent (HyperEvent)</td>
	</tr><tr>
		<th>childrenIds</th>
		<td>List of long</td>
		<td>Children (HyperEvent)</td>
	</tr><tr>
		<th>name</th>
		<td>String</td>
		<td>Name</td>
	</tr><tr>
		<th>mediaProvider</th>
		<td><a href="#MediaProviderDTO">MediaProvider</a></td>
		<td>Provider</td>
	</tr><tr>
		<th>type</th>
		<td>String</td>
		<td>Type</td>
	</tr><tr>
		<th>description</th>
		<td>String</td>
		<td>Description</td>
	</tr><tr>
		<th>creationDate <span class="label label-warning">better than date</span></th>
		<td>long</td>
		<td>Date</td>
	</tr><tr>
		<th>duration</th>
		<td>integer</td>
		<td>Duration</td>
	</tr><tr>
		<th>metaData</th>
		<td>List of <a href="#MetaDataDTO">MetaData</a> <span class="label label-warning">better than Props</span></td>
		<td>Custom <a href="#MetaDataDTO">MetaData</a></td>
	</tr><tr>
		<th>tracks</th>
		<td>List of <a href="#TrackDTO">Track</a></td>
		<td>Tracks</td>
	</tr><tr>
		<th>participations</th>
		<td>List of <a href="#ParticipationDTO">Participation</a></td>
		<td>Participations who map <a href="#ParticipantDTO">Participant</a> id and role</td>
	</tr><tr>
		<th>tags</th>
		<td>List of <a href="#TagDTO">Tag</a><br/>(time, person, offset, value)</td>
		<td>Tags</td>
	</tr><tr>
		<th>comments</th>
		<td>List of <a href="CommentDTO">Comments</a><br/>(time, person, value replyTo)</td>
		<td>Comments</td>
	</tr><tr>
		<th>children</th>
		<td>List of <a href="#HyperEventDTO">HyperEvent</a></td>
		<td>Children</td>
	</tr><tr>
		<th>links</th>
		<td>List of <a href="#LinkDTO">Link</a></td>
		<td>References</td>
	</tr><tr>
		<th>status</th>
		<td>String</td>
		<td>Status</td>
	</tr>
	<tr>
		<th>views</th>
		<td>long <span class="label label-warning">supposition</span></td>
		<td>Number of views</td>
	</tr>
	<tr>
		<th>likes</th>
		<td>long <span class="label label-warning">supposition</span></td>
		<td>Number of likes</td>
	</tr>
	<tr>
		<th>dislikes</th>
		<td>long <span class="label label-warning">supposition</span></td>
		<td>Number of dislikes</td>
	</tr>
</table>

<div class="alert alert-warning">What is the purpose of parent/child in our case ?</div>

<div class="alert alert-error">What is Job ? This parameter is not described anywhere but present in first document I own ? Was it status ? </div>

<p>HyperEvent is represented here in JSON format:</p>

<pre><code class="language-javascript">
{
	"id": 1261,
	"parentId": 1,
	"childrenIds": [],
	"mediaProvider": {},
	"name": "Lecture 01",
	"description": "Algebra",
	"createdDateTime": "1330380000000",
	"duration": 300,
	"metaData": [],
	"tags": [],
	"tracks": [],
	"status": "ENDED",
	"views":0,
	"likes":0,
	"dislikes":0
}
</code></pre>

<div class="alert">Don't we have the complete list of status code. Can be null apparently.</div>

<h3 id="TrackDTO">Track</h3>

<p>Following table describes fields of Track data object transfert:</p>

<table class="table">
	<tr>
		<th></th>
		<th>Type</th>
		<th>Description</th>
	</tr><tr>
		<th>id</th>
		<td>long</td>
		<td>ID</td>
	</tr><tr>
		<th>mimeType</th>
		<td>String</td>
		<td>The inevent type mimeType <span class="label label-warning">not complete</span><br>
			<ul>
				<li>inevent/video</li>
				<li>inevent/transcript</li>
				<li>inevent/part-events</li>
				<li>inevent/video+analytics</li>
				<li>inevent/video</li>
			</ul>
		</td>
	</tr><tr>
		<th>description</th>
		<td>String</td>
		<td>Describe the track</td>
	</tr><tr>
		<th>parentId</th>
		<td>long</td>
		<td>Parent <a href="#HyperEventDTO">HyperEvent</a></td>
	</tr><tr>
		<th>files</th>
		<td>list of <a href="#FileDTO">File</a></td>
		<td>Track files (images, videos, transcript, ...)</td>
	</tr>
</table>

<div class="alert">recordId disapeared between doc and API ?</div>

<p>tracks field of <a href="#HyperEventDTO">HyperEvent</a> is represented by array of Track objects:</p>

<pre><code class="language-javascript">
{
	"id":2914,
	"mimeType":"inevent/video",
	"description":"Radvision video",
	"parentId":1261,
	"files":[]
}
</code></pre>

<div class="alert">If description only define the type of track, can we use trackType who is more explicit</div>

<div class="alert">What is the purpose of recordId ?</div>

<h3 id="FileDTO">File</h3>

<p>Following table describes fields of File data object transfert:</p>

<table class="table">
	<tr>
		<th></th>
		<th>Type</th>
		<th>Value</th>
	</tr><tr>
		<th>id</th>
		<td>long</td>
		<td>ID</td>
	</tr><tr>
		<th>startTime</th>
		<td>Date</td>
		<td>When in <a href="#TrackDTO">Track</a> ?</td>
	</tr><tr>
		<th>endTime</th>
		<td>Date</td>
		<td>When in <a href="#TrackDTO">Track</a> ?</td>
	</tr><tr>
		<th>fileName</th>
		<td>String</td>
		<td>File name</td>
	</tr><tr>
		<th>mimeType</th>
		<td>String</td>
		<td>file MIME/Type</td>
	</tr><tr>
		<th>trackId</th>
		<td>long</td>
		<td>Related <a href="#TrackDTO">Track</a> id</td>
	</tr>
</table>

<p>files field of <a href="#TrackDTO">Track</a> is represented by array of File objects:</p>

<pre><code class="language-javascript">
{
	"id":13999,
	"startTime":1383091805000,
	"endTime":1383091916000,
	"fileName":"Slide8.jpg",
	"mimeType":"image/jpeg",
	"trackId":2915
}
</code></pre>

<div class="alert">Not sure if startTime and endTime are related on Track or HyperEvent</div>

<h3 id="ParticipationDTO">Participation</h3>

<p>Following table describes fields of Participation data object transfert:</p>

<table class="table">
	<tr>
		<th></th>
		<th>Type</th>
		<th>Value</th>
	</tr><tr>
		<th>id</th>
		<td>long</td>
		<td>ID</td>
	</tr><tr>
		<th>participant</th>
		<td>List of <a href="#UserDTO">User</a>  <span class="label label-warning">better User than participant</span></td>
		<td>Participants</td>
	</tr><tr>
		<th>hyperEventId</th>
		<td>long</td>
		<td>HyperEvent</td>
	</tr><tr>
		<th>role</th>
		<td>String</td>
		<td>Role <span class="label label-warning">not complete</span><br>
			<ul>
				<li>PARTICIPANT</li>
				<li>LECTURER</li>
			</ul>
		</td>
	</tr>
</table>

<p>participations field of <a href="#HyperEventDTO">HyperEvent</a> is represented by array of Participation objects:</p>

<pre><code class="language-javascript">
{
	"id": 0,
	"participant": {},
	"hyperEventId": 1,
	"role": "PARTICIPANT"
}
</code></pre>

<div class="alert">Which are the roles, are they fixed ?</div>

<h3 id="UserDTO">User</h3>

<p>Following table describes fields of User data object transfert:</p>

<table class="table">
	<tr>
		<th></th>
		<th>Type</th>
		<th>Value</th>
	</tr><tr>
		<th>id</th>
		<td>long</td>
		<td>ID</td>
	</tr><tr>
		<th>globalId</th>
		<td>long</td>
		<td>ID ?</td>
	</tr><tr>
		<th>displayName</th>
		<td>String</td>
		<td>Display Name</td>
	</tr><tr>
		<th>firstName</th>
		<td>String</td>
		<td>First Name</td>
	</tr><tr>
		<th>lastName</th>
		<td>String</td>
		<td>Last Name</td>
	</tr><tr>
		<th>email</th>
		<td>String</td>
		<td>E-mail Address</td>
	</tr><tr>
		<th>login</th>
		<td>String</td>
		<td></td>
	</tr><tr>
		<th>password</th>
		<td>String</td>
		<td></td>
	</tr><tr>
		<th>hyperEventWatchHistory</th>
		<td></td>
		<td></td>
	</tr><tr>
		<th>favoriteHyperEvents</th>
		<td></td>
		<td></td>
	</tr>

</table>

<p>participant field of <a href="#ParticipationDTO">Participation</a> is represented by array of User objects:</p>

<p>Here the user has certainly be automatically registered.</p>

<pre><code class="language-javascript">
{
	"id": 402,
	"globalId": "Kenneth+Reitz",
	"displayName": "Kenneth+Reitz",
	"firstName": null,
	"lastName": null,
	"email": "test402@e.com",
	"login": "Kenneth+Reitz",
	"password": null,
	"hyperEventWatchHistory": null,
	"favoriteHyperEvents": null
}
</code></pre>

<div class="alert alert-error">Why have we a + between firstname and lastname in globalId, displayName and login ?</div>

<p>Here the user was created manually.</p>

<pre><code class="language-javascript">
{
	"id": 1028,
	"globalId": "ajira86@hotmail.com",
	"displayName": null,
	"firstName": "Samuel",
	"lastName": "Dorsaz",
	"email": "ajira86@hotmail.com",
	"login": "ajira86",
	"password": null,
	"hyperEventWatchHistory": null,
	"favoriteHyperEvents": null
}
</code></pre>

<div class="alert alert-error">Here the user has e-mail as globalId ... Why not in automated user creation ??</div>

<div class="alert alert-error">Password field is always null hopefully. Is the password field really pertinent to be exported ?</div>

<div class="alert">What is the purpose of globalId ?</div>

<h3 id="TagDTO">Tag</h3>

<p>Following table describes fields of Tag data object transfert:</p>

<table class="table">
	<tr>
		<th></th>
		<th>Type</th>
		<th>Value</th>
	</tr><tr>
		<th>id</th>
		<td>long</td>
		<td>ID</td>
	</tr><tr>
		<th>hyperEventId</th>
		<td>long</td>
		<td><a href="#HyperEventDTO">HyperEvent</a> reference</td>
	</tr><tr>
		<th>creationDate</th>
		<td>Date</td>
		<td>Creation date</td>
	</tr><tr>
		<th>creator</th>
		<td><a href="#UserDTO">User</a></td>
		<td>Creator</td>
	</tr><tr>
		<th>value</th>
		<td>String</td>
		<td>Tag text</td>
	</tr>
</table>

<div class="alert">The parameters startTime and endTime appeared in documentation but not in final API, has it been deprecated ?</div>

<p>tags field of <a href="#HyperEventDTO">HyperEvent</a> is represented by array of Tag objects:</p>

<pre><code class="language-javascript">
{
	"id":0,
	"value":"Webinar",
	"creationDate":0,
	"creatorId":0,
	"hyperEventId":0
}
</code></pre>

<div class="alert">Why id, date, creator and hyperevent are all set to zero ??</div>

<h3 id="LinkDTO">Link</h3>

<p>Following table describes fields of Link data object transfert:</p>

<table class="table">
	<tr>
		<th></th>
		<th>Type</th>
		<th>Value</th>
	</tr><tr>
		<th>id</th>
		<td>long</td>
		<td>ID</td>
	</tr><tr>
		<th>parentId</th>
		<td>long</td>
		<td>Parent referent to <a href="#HyperEventDTO">HyperEvent</a></td>
	</tr><tr>
		<th>linkedEventId</th>
		<td>long</td>
		<td>Link referent to <a href="#HyperEventDTO">HyperEvent</a></td>
	</tr><tr>
		<th>relevancePercent <span class="label label-warning">not confirmed</span></th>
		<td>Float</td>
		<td>Relevance</td>
	</tr><tr>
		<th>confidencePercent <span class="label label-warning">not confirmed</span></th>
		<td>Float</td>
		<td>Confidence</td>
	</tr>
</table>

<p>links field of <a href="#HyperEventDTO">HyperEvent</a> is represented by array of Link objects:</p>

<pre><code class="language-javascript">
{
	"id": 1,
	"parentId": 1,
	"linkedEventId": 2,
	"relevance": 0.8,
	"confidence": 0.2,
}
</code></pre>

<div class="alert">It will be nice to say a float type (percentage here) in variable name. Or describe it with a better description.</div>

<h3 id="CommentDTO">Comment</h3>

<p>Following table describes fields of Comment data object transfert:</p>

<div class="alert">This is not comments from Hopper interface. Certainly from "Comment" tab but didn't work.</div>

<table class="table">
	<tr>
		<th></th>
		<th>Type</th>
		<th>Value</th>
	</tr><tr>
		<th>id</th>
		<td>long</td>
		<td>ID</td>
	</tr><tr>
		<th>replayId</th>
		<td>long</td>
		<td>Answered comment</td>
	</tr><tr>
		<th>user</th>
		<td><a href="#UserDTO">User</a></td>
		<td>Comment's author</td>
	</tr><tr>
		<th>value</th>
		<td>String</td>
		<td>Comment</td>
	</tr>
</table>

<p>comments field of <a href="#HyperEventDTO">HyperEvent</a> is represented by array of Comment objects:</p>

<div class="alert alert-error">No representation found</div>

<h3 id="JobDTO">Job</h3>

<div class="alert alert-error">No DTO description</div>

<h3 id="MediaProviderDTO">MediaProvider</h3>

<p>Following table describes fields of MediaProvider data object transfert:</p>

<table class="table">
	<tr>
		<th></th>
		<th>Type</th>
		<th>Value</th>
	</tr><tr>
		<th>id</th>
		<td>long</td>
		<td>ID</td>
	</tr><tr>
		<th>name</th>
		<td>String</td>
		<td>Provider name</td>
	</tr><tr>
		<th>description</th>
		<td>String</td>
		<td>Provider's description</td>
	</tr><tr>
		<th>repositoryPath</th>
		<td>String</td>
		<td>Path location</td>
	</tr>
</table>

<p>mediaProvider field of <a href="#HyperEventDTO">HyperEvent</a> is represented by a MediaProvider objects:</p>

<pre><code class="language-javascript">
{
	"id":3,
	"name":"Radvision",
	"description":"Radvision provider",
	"repositoryPath":"C:/inevent/repository/radvision"
}
</code></pre>

<div class="alert">What if we use a UNIX based server ?</div>

<h3 id="SearchResultDTO">SearchResult</h3>

<p>The type field of <a href="#HyperEventDTO">HyperEvent</a> must be set according to predefined <a href="#HyperEventDTO">HyperEvent</a> hierarchy. For example: Faculty -> Course -> Lecture.</p>

<table class="table">
	<tr>
		<th></th>
		<th>Type</th>
		<th>Value</th>
	</tr><tr>
		<th>id</th>
		<td>long</td>
		<td>ID</td>
	</tr><tr>
		<th>hyperEvents</th>
		<td>List of <a href="#HyperEventDTO">HyperEvent</a></td>
		<td>The data of search result</td>
	</tr><tr>
		<th>count</th>
		<td>integer <span class="label label-warning">not confirmed</span></td>
		<td>The quantity of result</td>
	</tr>
</table>

<p>SearchResult is represented here in JSON format:</p>

<pre><code class="language-javascript">
{
	"hyperEvents":[],
	"count":1000
}
</code></pre>

<h3 id="LinkResultDTO">LinkResult</h3>

<p>Following table describes fields of LinkResult data object transfert:</p>

<table class="table">
	<tr>
		<th></th>
		<th>Type</th>
		<th>Value</th>
	</tr><tr>
		<th>id</th>
		<td>long</td>
		<td>ID</td>
	</tr><tr>
		<th>links</th>
		<td>List of <a href="#LinkDTO">Link</a></td>
		<td><span class="label label-warning">need this data</span></td>
	</tr><tr>
		<th>count</th>
		<td>integer <span class="label label-warning">not confirmed</span></td>
		<td>The quantity of result</td>
	</tr>
</table>

<p>LinkResult is represented here in JSON format:</p>

<pre><code class="language-javascript">
{
	"links":[],
	"count":1000
}
</code></pre>

<h3 id="FilterDTO">Filter</h3>

<p>Following table describes fields of Filter data object transfert:</p>

<table class="table">
	<tr>
		<th></th>
		<th>Type</th>
		<th>Value</th>
	</tr><tr>
		<th>providerName</th>
		<td>String</td>
		<td>Search by provider</td>
	</tr><tr>
		<th>title</th>
		<td>String</td>
		<td>Search by title</td>
	</tr><tr>
		<th>startDate</th>
		<td>milli timestamp</td>
		<td>Search from date/td>
	</tr><tr>
		<th>endDate</th>
		<td>milli timestamp</td>
		<td>Search to date</td>
	</tr><tr>
		<th>speaker</th>
		<td>String</td>
		<td>Search by speaker</td>
	</tr><tr>
		<th>firstResult</th>
		<td>integer <span class="label label-warning">not confirmed</span></td>
		<td><span class="label label-warning">need this data</span></td>
	</tr><tr>
		<th>maxResults</th>
		<td>integer <span class="label label-warning">not confirmed</span></td>
		<td><span class="label label-warning">need this data</span></td>
	</tr><tr>
		<th>orderBy</th>
		<td>String</td>
		<td><span class="label label-warning">need this data</span></td>
	</tr><tr>
		<th>startDoc</th>
		<td>integer <span class="label label-warning">not confirmed</span></td>
		<td><span class="label label-warning">need this data</span></td>
	</tr>
</table>

<p>Filter is represented here in JSON format:</p>

<pre><code class="language-javascript">
{
	"providerName":"TED",
	"title":"A title",
	"startDate":1398282433812,
	"endDate":1398282433810,
	"speaker":"A speaker",
	"firstResult":0,
	"maxResults":50,
	"orderBy":"DATE","asc":false,
	"startDoc":5
}
</code></pre>

<p>Function using this DTO: <a href="#searchHyperEvents">searchHyperEvents</a></p>

<h3 id="SegmentDTO">Segment</h3>

<p>Following table describes fields of Segment data object transfert:</p>

<table class="table">
	<tr>
		<th></th>
		<th>Type</th>
		<th>Value</th>
	</tr><tr>
		<th>startDate</th>
		<td>milli timestamp</td>
		<td>Search from date/td>
	</tr><tr>
		<th>endDate</th>
		<td>milli timestamp</td>
		<td>Search to date</td>
	</tr><tr>
		<th>classId</th>
		<td>String</td>
		<td><span class="label label-warning">need this data</span></td>
	</tr><tr>
		<th>speakerId</th>
		<td>String</td>
		<td><span class="label label-warning">could be a <a href="#UserDTO">User</a> object ?</span></td>
	</tr>
</table>

<div class="alert">Why using a date instead if millisecond time only value ??</div>

<p>Segment is represented here in JSON format:</p>

<pre><code class="language-javascript">
{
	"startDate":1398287417648,
	"endDate":1398287421648,
	"classId":"Class 2",
	"speakerId":"Speaker 2"
}
</code></pre>

<h3 id="WordDTO">Word</h3>

<p>Following table describes fields of Word data object transfert:</p>

<table class="table">
	<tr>
		<th></th>
		<th>Type</th>
		<th>Value</th>
	</tr><tr>
		<th>id</th>
		<td>String <span class="label label-important">really ?</span></td>
		<td>ID</td>
	</tr><tr>
		<th>startTime</th>
		<td>float <span class="label label-warning">why not millisecond time ?</span></td>
		<td>Beginning of the word</td>
	</tr><tr>
		<th>endTime</th>
		<td>float</td>
		<td>End of the word</td>
	</tr><tr>
		<th>confidence</th>
		<td>float</td>
		<td><span class="label label-warning">need this data</span></td>
	</tr>
</table>

<p>Word is represented here in JSON format:</p>

<pre><code class="language-javascript">
{
	"id":"inEvent",
	"startTime":5.33,
	"endTime":6.0,
	"confidence":0.9
}
</code></pre>

<h3 id="AsrDTO">ASR</h3>

<p>Following table describes fields of ASR data object transfert:</p>

<table class="table">
	<tr>
		<th></th>
		<th>Type</th>
		<th>Value</th>
	</tr><tr>
		<th>id</th>
		<td>String <span class="label label-important">really ?</span></td>
		<td>ID</td>
	</tr><tr>
		<th>speakers</th>
		<td>List of <a href="#UserDTO">User</a></td>
		<td><span class="label label-warning">need this data</span></td>
	</tr><tr>
		<th>segments</th>
		<td>List of <a href="#SegmentDTO">Segment</a></td>
		<td><span class="label label-warning">need this data</span></td>
	</tr>
</table>

<p>ASR is represented here in JSON format:</p>

<pre><code class="language-javascript">
{
	"id":"id 1",
	"speakers":[],
	"segments":[]
}
</code></pre>

<!-- ---------------------------------------------------------------------------
From here REST API declaration
---------------------------------------------------------------------------- -->

<h2>REST API</h2>

<h3>User management</h3>

<h4>Login</h4>

<span class="label label-success">Successfully tested</span>

<p>Login a user into the system.</p>

<div class="alert">
	What is the authentification method Basic Auth Header ?<br>
	Thinking about this : <a href="http://www.django-rest-framework.org/api-guide/authentication">http://www.django-rest-framework.org/api-guide/authentication</a>
</div>

<p>Request parameters</p>

<table class="table">
	<tr>
		<th>Name</th>
		<th>Value</th>
	</tr><tr>
		<th>URL</th>
		<td>/rest/user/login</td>
	</tr><tr>
		<th>Method</th>
		<td>GET</td>
	</tr><tr>
		<th>Accept</th>
		<td>N/A</td>
	</tr><tr>
		<th>Return</th>
		<td>application/json (<a href="#UserDTO">User</a> object)</td>
	</tr>
</table>

<p>Method parameters</p>

<table class="table">
	<tr>
		<th>Name</th>
		<th>Value</th>
		<th>ParameterType</th>
		<th>ValueType</th>
	</tr><tr>
		<td>login</td>
		<td>Login name of the user</td>
		<td>QueryParam</td>
		<td>String</td>
	</tr><tr>
		<td>password</td>
		<td>Password of the user</td>
		<td>QueryParam</td>
		<td>String</td>
	</tr>
</table>

<h3>Archiving</h3>

<h4>New HyperEvent</h4>

<span class="label label-success">Successfully tested</span>

<p>Creates new HyperEvent in database, performs indexing using provided metadata.</p>

<p>Request parameters</p>

<table class="table">
	<tr>
		<th>Name</th>
		<th>Value</th>
	</tr><tr>
		<th>URL</th>
		<td>/rest/archiving/newHyperEvent</td>
	</tr><tr>
		<th>Method</th>
		<td>POST</td>
	</tr><tr>
		<th>Accept</th>
		<td>application/json</td>
	</tr><tr>
		<th>Return</th>
		<td>text/plain (newly created HyperEvent id)</td>
	</tr>
</table>

<p>Method parameters</p>

<table class="table">
	<tr>
		<th>Name</th>
		<th>Value</th>
		<th>ParameterType</th>
		<th>ValueType</th>
	</tr><tr>
		<td>N/A</td>
		<td><a href="#HyperEventDTO">HyperEvent</a></td>
		<td>Body</td>
		<td>application/json</td>
	</tr>
</table>

<h4>Update HyperEvent</h4>

<p>Updates existing HyperEvent.</p>

<p>Request parameters</p>

<table class="table">
	<tr>
		<th>Name</th>
		<th>Value</th>
	</tr><tr>
		<th>URL</th>
		<td>/rest/archiving/updateHyperEvent</td>
	</tr><tr>
		<th>Method</th>
		<td>POST</td>
	</tr><tr>
		<th>Accept</th>
		<td>application/json</td>
	</tr><tr>
		<th>Return</th>
		<td>N/A</td>
	</tr>
</table>

<p>Method parameters</p>

<table class="table">
	<tr>
		<th>Name</th>
		<th>Value</th>
		<th>ParameterType</th>
		<th>ValueType</th>
	</tr><tr>
		<td>N/A</td>
		<td><a href="#HyperEventDTO">HyperEvent</a></td>
		<td>Body</td>
		<td>application/json</td>
	</tr>
</table>

<h4>Upload track</h4>

<p>Adds provided track to specified HyperEvent. The metadata of the track is described by "trackDTO" parameter and its actual data by "data" parameters.</p>

Example of track might be: 
<ul>
	<li>flash video file</li>
	<li>sequence of slides</li>
	<li>transcript (ASR result) - the format needs to be discussed with WP2</li>
</ul>

<p>Request parameters</p>

<table class="table">
	<tr>
		<th>Name</th>
		<th>Value</th>
	</tr><tr>
		<th>URL</th>
		<td>/rest/archiving/uploadTrack</td>
	</tr><tr>
		<th>Method</th>
		<td>POST</td>
	</tr><tr>
		<th>Accept</th>
		<td>multipart/form-data</td>
	</tr><tr>
		<th>Return</th>
		<td>text/plain (newly created track id)</td>
	</tr>
</table>

<p>Method parameters</p>

<table class="table">
	<tr>
		<th>Name</th>
		<th>Value</th>
		<th>ParameterType</th>
		<th>ValueType</th>
	</tr><tr>
		<td>trackDTO</td>
		<td><a href="#TrackDTO">TrackDTO</a></td>
		<td>FormParam</td>
		<td>application/json</td>
	</tr><tr>
		<td>data</td>
		<td>Track binary data</td>
		<td>FormParam</td>
		<td>application/octet-stream</td>
	</tr>
</table>

<h4>Set HyperEvent links</h4>

<p>Sets linked HyperEvents for provided HyperEvent.</p>

<p>Request parameters</p>

<table class="table">
	<tr>
		<th>Name</th>
		<th>Value</th>
	</tr><tr>
		<th>URL</th>
		<td>/rest/archiving/setHyperEventLinks</td>
	</tr><tr>
		<th>Method</th>
		<td>POST</td>
	</tr><tr>
		<th>Accept</th>
		<td>application/json</td>
	</tr><tr>
		<th>Return</th>
		<td>N/A</td>
	</tr>
</table>

<p>Method parameters</p>

<table class="table">
	<tr>
		<th>Name</th>
		<th>Value</th>
		<th>ParameterType</th>
		<th>ValueType</th>
	</tr><tr>
		<td>hyperEventID</td>
		<td>ID of the hyper event</td>
		<td>QueryParam</td>
		<td>long</td>
	</tr><tr>
		<td>hyperEventLinks</td>
		<td>List of linked hyper event IDs</td>
		<td>Body</td>
		<td>
			application/json<br/>
			(list of long values)
		</td>
	</tr>
</table>

<h5>Asynchronous methods</h5>

<p>The following 4 methods are for modifying hyper events. They are asynchronous and will execute ones the hyper event is in unlocked state. Each hyper event is locked during:</p>

<ol>
	<li>the “getTrackFile” method (locked only for modifying tasks)</li>
	<li>One of the modifying methods is invoked (locked for any usage)</li>
</ol>

<p>When a modifying method is invoked and one or more files of its tracks is used by one or more callers of “getTrackFile”, the hyper event will be marked “prelocked” and no more new callers of “getTrackFile” will be allowed. Ones all the callers are finished, the modifying task will be allowed to execute and will mark the hyper event “locked”. Each asynchronous method returns “id” of the task that was created for it and the task status can be monitored by the “checkTaskStatus” method, described below.</p>

<h4>Update track</h4>

<p>Updates existing track. The request format is same as for uploadTrack. For single file in data: the file will be created or replaced. For mutiple files (zipped data): new files will be created, existing ones replaced.</p>

<p>Request parameters</p>

<table class="table">
	<tr>
		<th>Name</th>
		<th>Value</th>
	</tr><tr>
		<th>URL</th>
		<td>/rest/archiving/updateTrack</td>
	</tr><tr>
		<th>Method</th>
		<td>POST</td>
	</tr><tr>
		<th>Accept</th>
		<td>multipart/form-data</td>
	</tr><tr>
		<th>Return</th>
		<td>N/A</td>
	</tr>
</table>

<p>Method parameters</p>

<table class="table">
	<tr>
		<th>Name</th>
		<th>Value</th>
		<th>ParameterType</th>
		<th>ValueType</th>
	</tr><tr>
		<td>trackDTO</td>
		<td><a href="#TrackDTO">TrackDTO</a></td>
		<td>FormParam</td>
		<td>application/json</td>
	</tr><tr>
		<td>data</td>
		<td>Track binary data</td>
		<td>FormParam</td>
		<td>application/octet-stream</td>
	</tr>
</table>

<h4>Delete HyperEvent</h4>

<span class="label label-success">Successfully tested</span>

<p>Deletes HyperEvent including its tracks and track files in database (metadata) and repository (content)</p>

<p>Request parameters</p>

<table class="table">
	<tr>
		<th>Name</th>
		<th>Value</th>
	</tr><tr>
		<th>URL</th>
		<td>/rest/archiving/deleteHyperEvent</td>
	</tr><tr>
		<th>Method</th>
		<td>POST</td>
	</tr><tr>
		<th>Accept</th>
		<td>N/A</td>
	</tr><tr>
		<th>Return</th>
		<td>text/plain (id of the task which is responsible for HyperEvent's deletion)</td>
	</tr>
</table>

<p>Method parameters</p>

<table class="table">
	<tr>
		<th>Name</th>
		<th>Value</th>
		<th>ParameterType</th>
		<th>ValueType</th>
	</tr><tr>
		<td>hyperEventId</td>
		<td>ID of the hyper event</td>
		<td>QueryParam</td>
		<td>long</td>
	</tr>
</table>

<div class="alert alert-error">
No way to ask for action. Do I need to login ?
<pre><code class="language-javascript">
Request Url: http://inevent.haifa.il.ibm.com/rest/archiving/deleteHyperEvent
Request Method: POST
Status Code: 406
Params: {
	"fileName": "1272"
}
</code></pre>
</div>

<h4>Delete track</h4>

<p>Deletes track including its track files in database (metadata) and repository (content)</p>

<p>Request parameters</p>

<table class="table">
	<tr>
		<th>Name</th>
		<th>Value</th>
	</tr><tr>
		<th>URL</th>
		<td>/rest/archiving/deleteTrack</td>
	</tr><tr>
		<th>Method</th>
		<td>POST</td>
	</tr><tr>
		<th>Accept</th>
		<td>N/A</td>
	</tr><tr>
		<th>Return</th>
		<td>text/plain (id of the task which is responsible for track's deletion)</td>
	</tr>
</table>

<p>Method parameters</p>

<table class="table">
	<tr>
		<th>Name</th>
		<th>Value</th>
		<th>ParameterType</th>
		<th>ValueType</th>
	</tr><tr>
		<td>trackID</td>
		<td>ID of the track</td>
		<td>QueryParam</td>
		<td>long</td>
	</tr>
</table>

<h4>Delete track file</h4>

<p>Deletes track file in database (metadata) and repository (content)</p>

<p>Request parameters</p>

<table class="table">
	<tr>
		<th>Name</th>
		<th>Value</th>
	</tr><tr>
		<th>URL</th>
		<td>/rest/archiving/deleteTrackFile</td>
	</tr><tr>
		<th>Method</th>
		<td>POST</td>
	</tr><tr>
		<th>Accept</th>
		<td>N/A</td>
	</tr><tr>
		<th>Return</th>
		<td>text/plain (id of the task which is responsible for track file's deletion)</td>
	</tr>
</table>

<p>Method parameters</p>

<table class="table">
	<tr>
		<th>Name</th>
		<th>Value</th>
		<th>ParameterType</th>
		<th>ValueType</th>
	</tr><tr>
		<td>trackField</td>
		<td>ID of the track's file</td>
		<td>QueryParam</td>
		<td>long</td>
	</tr>
</table>

<h4>Check task status</h4>

<span class="label label-success">Successfully tested</span>

<p>Checks status of the task created by one of the following requests: "deleteHyperEvent", "deleteTrack", "deleteTrackFile"</p>

<p>Request parameters</p>

<table class="table">
	<tr>
		<th>Name</th>
		<th>Value</th>
	</tr><tr>
		<th>URL</th>
		<td>/rest/archiving/checkTaskStatus</td>
	</tr><tr>
		<th>Method</th>
		<td>GET</td>
	</tr><tr>
		<th>Accept</th>
		<td>N/A</td>
	</tr><tr>
		<th>Return</th>
		<td>
			<p>text/plain</p>

			Represented by on of the following values:
			<ul>
				<li>'WAITING' – the task is in waiting state before its execution</li>
				<li>'RUNNING' – the task is currently being executed</li>
				<li>'COMPLETED' – the task's execution completed successfully</li>
				<li>'ERROR' – the task's execution completed with error</li>
			</ul>
		</td>
	</tr>
</table>

<p>Method parameters</p>

<table class="table">
	<tr>
		<th>Name</th>
		<th>Value</th>
		<th>ParameterType</th>
		<th>ValueType</th>
	</tr><tr>
		<td>taskId</td>
		<td>ID of the task</td>
		<td>QueryParam</td>
		<td>long</td>
	</tr>
</table>

<h3>Retrieval</h3>

<h4>Get HyperEvent</h4>

<span class="label label-success">Successfully tested</span>

<p>Retrieves desired HyperEvent by id.</p>

<p>Request parameters</p>

<table class="table">
	<tr>
		<th>Name</th>
		<th>Value</th>
	</tr><tr>
		<th>URL</th>
		<td>/rest/retrieval/getHyperEvent</td>
	</tr><tr>
		<th>Method</th>
		<td>GET</td>
	</tr><tr>
		<th>Accept</th>
		<td>N/A</td>
	</tr><tr>
		<th>Return</th>
		<td>application/json (<a href="#HyperEventDTO">HyperEvent</a> object)</td>
	</tr>
</table>

<p>Method parameters</p>

<table class="table">
	<tr>
		<th>Name</th>
		<th>Value</th>
		<th>ParameterType</th>
		<th>ValueType</th>
	</tr><tr>
		<td>hyperEventId</td>
		<td>ID of hyper event</td>
		<td>QueryParam</td>
		<td>long</td>
	</tr>
</table>

<h4 id="searchHyperEvents">Search HyperEvents</h4>

<p>Retrieves all HyperEvents which matching the provided search query.</p>

<p>Request parameters</p>

<table class="table">
	<tr>
		<th>Name</th>
		<th>Value</th>
	</tr><tr>
		<th>URL</th>
		<td>/rest/retrieval/searchHyperEvents</td>
	</tr><tr>
		<th>Method</th>
		<td>POST</td>
	</tr><tr>
		<th>Accept</th>
		<td>application/json</td>
	</tr><tr>
		<th>Return</th>
		<td>application/json (<a href="#SearchResultDTO">SearchResult</a> object)</td>
	</tr>
</table>

<p>Method parameters</p>

<table class="table">
	<tr>
		<th>Name</th>
		<th>Value</th>
		<th>ParameterType</th>
		<th>ValueType</th>
	</tr><tr>
		<td>searchQuery</td>
		<td>Free text query condition</td>
		<td>QueryParam</td>
		<td>String</td>
	</tr><tr>
		<td>filterDTO</td>
		<td><a href="#FilterDTO">Filter</a> object containing various fields for query filtering</td>
		<td>Body</td>
		<td>HyperEventFilterDTO</td>
	</tr>
</table>

<h4>Find similar HyperEvents</h4>

<p>Retrieves all HyperEvents that similar to the provided one.</p>

<p>Request parameters</p>

<table class="table">
	<tr>
		<th>Name</th>
		<th>Value</th>
	</tr><tr>
		<th>URL</th>
		<td>/rest/retrieval/findSimilarHyperEvents</td>
	</tr><tr>
		<th>Method</th>
		<td>POST</td>
	</tr><tr>
		<th>Accept</th>
		<td>application/json</td>
	</tr><tr>
		<th>Return</th>
		<td>application/json (HyperEventLinkResultDTO object)</td>
	</tr>
</table>

<p>Method parameters</p>

<table class="table">
	<tr>
		<th>Name</th>
		<th>Value</th>
		<th>ParameterType</th>
		<th>ValueType</th>
	</tr><tr>
		<td>hyperEventId</td>
		<td>Filter object containing various fields for query filtering</td>
		<td>Body</td>
		<td>FilterDTO</td>
	</tr>
</table>

<h4>Get recommended HyperEvents</h4>

<p>Retrieves recommended HyperEvents for currently logged in user.</p>

<p><i>Note: the method works only if user was successfully logged in, otherwise exception is thrown</i></p>

<p>Request parameters</p>

<table class="table">
	<tr>
		<th>Name</th>
		<th>Value</th>
	</tr><tr>
		<th>URL</th>
		<td>/rest/retrieval/getRecommendedHyperEvents</td>
	</tr><tr>
		<th>Method</th>
		<td>GET</td>
	</tr><tr>
		<th>Accept</th>
		<td>N/A</td>
	</tr><tr>
		<th>Return</th>
		<td>application/json (HyperEventSearchResultDTO object)</td>
	</tr>
</table>

<p>Method parameters</p>

<table class="table">
	<tr>
		<th>Name</th>
		<th>Value</th>
		<th>ParameterType</th>
		<th>ValueType</th>
	</tr><tr>
		<td>pageNum</td>
		<td>Pagination parameter</td>
		<td>QueryParam</td>
		<td>integer</td>
	</tr>
</table>

<h4>Get track file</h4>

<p>Retrieves desired track file by track id and file name and returns it with corresponding mime type in order to be played automatically.</p>

<p><i>Note: the method supports HTTP 1.1 Range Request</i></p>

<p>Request parameters</p>

<table class="table">
	<tr>
		<th>Name</th>
		<th>Value</th>
	</tr><tr>
		<th>URL</th>
		<td>/rest/retrieval/getTrackFile</td>
	</tr><tr>
		<th>Method</th>
		<td>GET</td>
	</tr><tr>
		<th>Accept</th>
		<td>N/A</td>
	</tr><tr>
		<th>Return</th>
		<td>*/* (file content)</td>
	</tr>
</table>

<p>Method parameters</p>

<table class="table">
	<tr>
		<th>Name</th>
		<th>Value</th>
		<th>ParameterType</th>
		<th>ValueType</th>
	</tr><tr>
		<td>trackId</td>
		<td>ID of track</td>
		<td>QueryParam</td>
		<td>long</td>
	</tr><tr>
		<td>start</td>
		<td>The starting position the file is downloaded from</td>
		<td>QueryParam</td>
		<td>long</td>
	</tr><tr>
		<td>filename</td>
		<td>Name of the file to retrieve</td>
		<td>PathParam</td>
		<td>String</td>
	</tr>
</table>

<p>Example:</p>

<p>http://inevent.haifa.il.ibm.com/rest/getTrackFile/{fileName}?trackId={trackId}</p>

<h4>Get track file raw</h4>

<span class="label label-warning">Seams working</span> <span class="label label-important">10min Timeout for webinar</span>

<p>Retrieves desired track file by track id and file name and returns it with mime type "application/octet-stream" in order to download it as is.</p>

<p><i>Note: the method supports HTTP 1.1 Range Request</i></p>

<p>Request parameters</p>

<table class="table">
	<tr>
		<th>Name</th>
		<th>Value</th>
	</tr><tr>
		<th>URL</th>
		<td>/rest/retrieval/getTrackFileRaw/{fileName}</td>
	</tr><tr>
		<th>Method</th>
		<td>GET</td>
	</tr><tr>
		<th>Accept</th>
		<td>N/A</td>
	</tr><tr>
		<th>Return</th>
		<td>*/* (file content)</td>
	</tr>
</table>

<p>Method parameters</p>

<table class="table">
	<tr>
		<th>Name</th>
		<th>Value</th>
		<th>ParameterType</th>
		<th>ValueType</th>
	</tr><tr>
		<td>trackId</td>
		<td>ID of track</td>
		<td>QueryParam</td>
		<td>long</td>
	</tr><tr>
		<td>start (optional)</td>
		<td>The starting position the file is downloaded from</td>
		<td>QueryParam</td>
		<td>long</td>
	</tr>
</table>

<p>Example:</p>

<p>http://inevent.haifa.il.ibm.com/rest/getTrackFileRaw/{fileName}?trackId={trackId}</p>


<h3>Process file</h3>

<p>Processes video file and returns analytic's result.</p>

<p>Request parameters</p>

<table class="table">
	<tr>
		<th>Name</th>
		<th>Value</th>
	</tr><tr>
		<th>URL</th>
		<td>/processFile?fileName=&lt;fileName&gt;</td>
	</tr><tr>
		<th>Method</th>
		<td>GET</td>
	</tr><tr>
		<th>Accept</th>
		<td>N/A</td>
	</tr><tr>
		<th>Return</th>
		<td>application/json (analytic's processing output in JSON format)</td>
	</tr>
</table>

<p>Method parameters</p>

<table class="table">
	<tr>
		<th>Name</th>
		<th>Value</th>
		<th>ParameterType</th>
		<th>ValueType</th>
	</tr><tr>
		<td>fileName</td>
		<td>Name of the file to process</td>
		<td>QueryParam</td>
		<td>String</td>
	</tr>
</table>

<h3>Process file</h3>

<p>Processes video file using Segmentation object received by calling to diarization service. Returns aggregated ASR result containing merged ASR and diarization data.</p>

<p>Request parameters</p>

<table class="table">
	<tr>
		<th>Name</th>
		<th>Value</th>
	</tr><tr>
		<th>URL</th>
		<td>/processFile?fileName=<fileName>&lt;fileName&gt;</td>
	</tr><tr>
		<th>Method</th>
		<td>POST</td>
	</tr><tr>
		<th>Accept</th>
		<td>application/json</td>
	</tr><tr>
		<th>Return</th>
		<td>application/json (AsrResult object))</td>
	</tr>
</table>

<p>Method parameters</p>

<table class="table">
	<tr>
		<th>Name</th>
		<th>Value</th>
		<th>ParameterType</th>
		<th>ValueType</th>
	</tr><tr>
		<td>fileName</td>
		<td>Name of the file to process</td>
		<td>QueryParam</td>
		<td>String</td>
	</tr><tr>
		<td>segmentation</td>
		<td>Segmentation object received by calling to diarization service</td>
		<td>Body</td>
		<td>application/json</td>
	</tr>
</table>

<h3>Get thumbnails</h3>

<p>Returns thumbnail files produced by video analytic service.</p>

<p>Request parameters</p>

<table class="table">
	<tr>
		<th>Name</th>
		<th>Value</th>
	</tr><tr>
		<th>URL</th>
		<td>/getThumbnails?fileName=&lt;fileName&gt;</td>
	</tr><tr>
		<th>Method</th>
		<td>GET</td>
	</tr><tr>
		<th>Accept</th>
		<td>N/A</td>
	</tr><tr>
		<th>Return</th>
		<td>application/zip (ZIP file containing thumbnails)</td>
	</tr>
</table>

<p>Method parameters</p>

<table class="table">
	<tr>
		<th>Name</th>
		<th>Value</th>
		<th>ParameterType</th>
		<th>ValueType</th>
	</tr><tr>
		<td>fileName</td>
		<td>Name of the file to process</td>
		<td>QueryParam</td>
		<td>String</td>
	</tr>
</table>

<div class="alert alert-error">
No way to get answer, is it the correct base url ?
<pre><code class="language-javascript">
Request Url: http://inevent.haifa.il.ibm.com/rest/getThumbnails
Request Method: GET
Status Code: 404
Params: {
	"fileName": "inEvent_Webinar_Oct30.mp4"
}
</code></pre>
</div>

	</div>

	<div class="span3 bs-docs-sidebar">
		<div id="toc"></div>
	</div>
</div>

<script>
//Executes your code when the DOM is ready. Acts the same as $(document).ready().
$(function() {
	//Calls the tocify method on your HTML div.
	$("#toc").tocify({
		selectors: "h2, h3, h4",
	}) ;
});
</script>

{% endblock %}
